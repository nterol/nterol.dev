---
slug: "introduction-simple-a-react"
thumbnail: ""
date: "Sat Jun 26 2021 17:41:59 GMT+0200"
title: "Un introduction simple à React"
description: "Et si on construisait autre chose qu'une todo list pour apprendre React ?"
---

# Alors qu'est qu'on fait aujourd'hui ?

Il y a deux ans de ça je suis tombé sur le tweet d'un designer :

<blockquote class="twitter-tweet">
  <p lang="en" dir="ltr">
    Hey! If you&#39;re looking to pressure test some colors and the relationship
    they have with one another, I threw together a little AI file that you can
    download and see how they&#39;re all working together. Hope it&#39;s
    helpful!<a href="https://t.co/nBaYVJhnUB">https://t.co/nBaYVJhnUB</a>{" "}
    <a href="https://t.co/nXvwByTI6C">pic.twitter.com/nXvwByTI6C</a>
  </p>
  &mdash; Justin Mezzell (@JustinMezzell) <a href="https://twitter.com/JustinMezzell/status/1126168335140286464?ref_src=twsrc%5Etfw">May 8, 2019</a>
</blockquote> <script
  async
  src="https://platform.twitter.com/widgets.js"
  charset="utf-8"
></script>

C'est donc un template qu'il a crée et publié sur Dropbox et qui l'aide à trouver des couleurs pour ses interfaces.

Et donc je me suis dit qu'il fallait que j'en fasse une app. Mon idée à l'origine était de la faire rapidement puis de la publier.

J'ai finis l'app mais je n'ai jamais osé la poster.

Aujourdhui je la ressort parce que je me dit que c'est un bon point pour commencer à apprendre React, ça change des éternels to-do list. C'est parti !

## 0. Start-up

Il y a plusieurts manières de créer une application React aujourd'hui. La plus commune est sur laquelle nous allons partir aujourd'hui est depuis votre terminal de lancer la commande pour créer une application React. Pour cela vous devez avec `Node.js` et donc `npm` (Node Package Manager) sur votre machine.

A partir de là, dans votre répertoire préféré, lancez la commande

```bash
npx create-react-app color-template
```

Il vous est également possible d'utiliser `next.js` en remplacant `create-react-app` par `create-next-app`. Next est un excellent framework et ce site l'utilise. Mais ce n'est pas le sujet de article.

N'oubliez pas ensuite de `cd color-template` pour accéder à votre code, puis lancez votre éditeur. (`code .` pour ceux qui utilisent vscode).

Une dernière solution pour créer votre application React est tout simplement de passer par un service en ligne comme StackBlitz ou CodeSandbox.

Depuis codeSandbox il est possible de directement créer un repo github avec le contenu créer en ligne, puis de deploy ce repo sur Netlify, le tout en quelques minutes.
C'est un système que j'utilise assez souvent pour tester des idées en ligne.

## 1. L'asset

Ce qu'on veut d'abord pouvoir faire c'est rendre dynamique le template de notre ami Justin.
Vous pourrez copier le résultat un peu plus bas, mais voici quel a été ma logique.
Le fichier récupéré dans le lien dropbox de son tweet est un `.ai`[^1]

<aside>
  [^1] Ne sachant pas quoi faire de cette extension, j'ai d'abord commencé par
  recréer le template avec des `div` en `position: absolute`. C'est une très
  mauvaise idée ne faites pas ça. Mais je me suis bien amusée quand même
</aside>

C'est un format très proche du `svg` que nous pouvons manipuler avec `React`. Grâce à un service en ligne on convertit le fichier et on l'optimise grâce à [ce merveilleux site](https://jakearchibald.github.io/svgomg/).

Ensuite, il y a deux manières de faire les choses.
La première est de copier coller le `svg` obtenu dans une fonction React qui reverra le `svg`sous la forme de `JSX`, en remplacant les couleurs (les `fill` suivi d'une valeur `hex` dans les `path` du svg) par des valeurs Javascript. Un peu comme ceci:

```JSX
const ColorTemplate= ({color1, color2, color3, color4, shade1, shade2}) => <svg><g><path fill={color1} d="valeurssvgincomprehensiblespourlecommundesmortels"/><path fill={color2} />...etc
```

Mais ce n'est pas l'approche que j'ai choisi bien qu'elle soit parfaitement valide.

Je préfère que le svg obtenu reste dans un fichier `.svg`.
Aussi pour dynamiser notre asset nous aurons recours aux variables CSS. J'ai écrit un [autre article sur le sujet]("/les-variables-css-sont-geniales").
Comme pour la méthode précédente il faut remplacer toutes les valeurs hexadécimal en dur.

```html
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1066.6667 640">
  <defs>
    <clipPath id="a" clipPathUnits="userSpaceOnUse">
      <path d="M0 480h800V0H0z" />
    </clipPath>
  </defs>
  <path class="first-color" d="M426.6667 213.3333h213.332V.0013h-213.332z" />
  <g clip-path="url(#a)" transform="matrix(1.33333 0 0 -1.33333 0 640)">
    <path
      class="first-shade"
      d="M400 438.75c-21.367 0-38.75-17.383-38.75-38.75s17.383-38.75 38.75-38.75 38.75 17.383 38.75 38.75-17.383 38.75-38.75 38.75m0-80c-22.744 0-41.25 18.506-41.25 41.25s18.506 41.25 41.25 41.25 41.25-18.506 41.25-41.25-18.506-41.25-41.25-41.25"
    />
    <path class="third-color" d="M320 320H160v160h160z" />
    <path class="fourth-color" d="M800 160H640v160h160z" />
    <path class="first-shade" d="M800 240H640v80h160z" />
    <path class="fourth-color" d="M400 320h-80v80h80zM480 400h-80v80h80z" />
    <path class="second-shade" d="M640 320H480v160h160z" />
    <path class="second-color" d="M480 400v-80h80c0 44.183-35.818 80-80 80" />
    <path class="fourth-color" d="M560 400v-80h80c0 44.183-35.818 80-80 80" />
    <path class="first-color" d="M640 400H480v80h160z" />
    <path
      class="second-color"
      d="M241.25 320h-2.5v160h2.5zM201.25 320h-2.5v160h2.5zM281.25 320h-2.5v160h2.5zM301.25 320h-2.5v160h2.5zM261.25 320h-2.5v160h2.5zM221.25 320h-2.5v160h2.5zM181.25 320h-2.5v160h2.5z"
    />
    <path class="fourth-color" d="M320 160H160v160h160z" />
    <path
      class="first-shade"
      d="M160 320V160h160c0 88.365-71.635 160-160 160"
    />
    <path
      class="second-color"
      d="M160 240v-80h80c0 44.183-35.818 80-80 80M480 160H320v160h160z"
    />
    <path class="second-shade" d="M480 160l-80 80-80-80z" />
    <path class="first-shade" d="M320 320l80-80 80 80z" />
    <path class="first-color" d="M480 320l-80-80 80-80z" />
    <path class="third-color" d="M640 160H480v160h160z" />
    <path
      class="first-shade"
      d="M530 280c0-5.523-4.478-10-10-10s-10 4.477-10 10 4.478 10 10 10 10-4.477 10-10"
    />
    <path
      class="second-color"
      d="M600 450c-5.522 0-10-4.477-10-10 0-5.522 4.478-10 10-10s10 4.478 10 10c0 5.523-4.478 10-10 10M630 440c0-5.522 4.478-10 10-10v20c-5.522 0-10-4.477-10-10M560 450c-5.522 0-10-4.477-10-10 0-5.522 4.478-10 10-10s10 4.478 10 10c0 5.523-4.478 10-10 10M520 450c-5.522 0-10-4.477-10-10 0-5.522 4.478-10 10-10s10 4.478 10 10c0 5.523-4.478 10-10 10M480 450v-20c5.522 0 10 4.478 10 10 0 5.523-4.478 10-10 10"
    />
    <path
      class="first-shade"
      d="M570 280c0-5.523-4.478-10-10-10s-10 4.477-10 10 4.478 10 10 10 10-4.477 10-10M610 280c0-5.523-4.478-10-10-10s-10 4.477-10 10 4.478 10 10 10 10-4.477 10-10M530 240c0-5.522-4.478-10-10-10s-10 4.478-10 10c0 5.523 4.478 10 10 10s10-4.477 10-10M570 240c0-5.522-4.478-10-10-10s-10 4.478-10 10c0 5.523 4.478 10 10 10s10-4.477 10-10M610 240c0-5.522-4.478-10-10-10s-10 4.478-10 10c0 5.523 4.478 10 10 10s10-4.477 10-10M530 200c0-5.522-4.478-10-10-10s-10 4.478-10 10 4.478 10 10 10 10-4.478 10-10M570 200c0-5.522-4.478-10-10-10s-10 4.478-10 10 4.478 10 10 10 10-4.478 10-10M610 200c0-5.522-4.478-10-10-10s-10 4.478-10 10 4.478 10 10 10 10-4.478 10-10"
    />
    <path class="second-shade" d="M320 0H160v160h160z" />
    <path
      class="second-color"
      d="M210 120c0-5.522-4.477-10-10-10s-10 4.478-10 10 4.477 10 10 10 10-4.478 10-10M250 120c0-5.522-4.477-10-10-10s-10 4.478-10 10 4.477 10 10 10 10-4.478 10-10"
    />
    <path
      class="first-color"
      d="M290 120c0-5.522-4.477-10-10-10s-10 4.478-10 10 4.477 10 10 10 10-4.478 10-10"
    />
    <path
      class="second-color"
      d="M210 80c0-5.522-4.477-10-10-10s-10 4.478-10 10 4.477 10 10 10 10-4.478 10-10"
    />
    <path
      class="first-color"
      d="M250 80c0-5.522-4.477-10-10-10s-10 4.478-10 10 4.477 10 10 10 10-4.478 10-10"
    />
    <path
      class="second-color"
      d="M290 80c0-5.522-4.477-10-10-10s-10 4.478-10 10 4.477 10 10 10 10-4.478 10-10"
    />
    <path
      class="first-color"
      d="M210 40c0-5.522-4.477-10-10-10s-10 4.478-10 10 4.477 10 10 10 10-4.478 10-10"
    />
    <path
      class="second-color"
      d="M250 40c0-5.522-4.477-10-10-10s-10 4.478-10 10 4.477 10 10 10 10-4.478 10-10M290 40c0-5.522-4.477-10-10-10s-10 4.478-10 10 4.477 10 10 10 10-4.478 10-10M160 320H0v160h160z"
    />
    <path
      class="second-shade"
      d="M80 400c0-44.183 35.818-80 80-80v160c-44.182 0-80-35.817-80-80"
    />
    <path
      class="first-color"
      d="M80 400c0 44.183-35.818 80-80 80V320c44.182 0 80 35.817 80 80"
    />
    <path class="fourth-color" d="M480 0H320v160h160z" />
    <path
      class="first-shade"
      d="M400 80c0 44.183-35.818 80-80 80V0c44.182 0 80 35.817 80 80"
    />
    <path
      class="second-color"
      d="M400 80c0-44.183 35.818-80 80-80v160c-44.182 0-80-35.817-80-80"
    />
    <path class="third-color" d="M400 80h80v80c-44.182 0-80-35.817-80-80" />
    <path class="first-shade" d="M640 0H480v160h160z" />
    <path class="first-color" d="M610 30H510v100h100z" />
    <path
      class="second-color"
      d="M590 80c0-16.568-13.432-30-30-30-16.568 0-30 13.432-30 30 0 16.568 13.432 30 30 30 16.568 0 30-13.432 30-30M160 0H0v160h160z"
    />
    <path
      class="first-color"
      d="M150 80c0-38.66-31.34-70-70-70S10 41.34 10 80s31.34 70 70 70 70-31.34 70-70"
    />
    <path
      class="second-shade"
      d="M110 80c0-16.568-13.432-30-30-30-16.568 0-30 13.432-30 30 0 16.568 13.432 30 30 30 16.568 0 30-13.432 30-30"
    />
    <path class="third-color" d="M160 160L0 0h160z" />
    <path class="first-color" d="M800 320H640v160h160z" />
    <path
      class="second-color"
      d="M800 480H640V320c88.365 0 160 71.635 160 160"
    />
    <path
      class="fourth-color"
      d="M640 398.75v2.5c43.428 0 78.75 35.322 78.75 78.75h2.5c0-44.805-36.445-81.25-81.25-81.25M640 438.75v2.5c21.367 0 38.75 17.383 38.75 38.75h2.5c0-22.744-18.506-41.25-41.25-41.25"
    />
    <path
      class="fourth-color"
      d="M640 358.75v2.5c65.479 0 118.75 53.271 118.75 118.75h2.5c0-66.855-54.395-121.25-121.25-121.25"
    />
    <path class="second-shade" d="M800 0H640v160h160z" />
    <path
      class="third-color"
      d="M700 120c0-11.046-8.954-20-20-20s-20 8.954-20 20 8.954 20 20 20 20-8.954 20-20"
    />
    <path
      class="first-shade"
      d="M760 120c0-11.046-8.954-20-20-20s-20 8.954-20 20 8.954 20 20 20 20-8.954 20-20"
    />
    <path
      class="third-color"
      d="M780 120c0-11.046 8.955-20 20-20v40c-11.045 0-20-8.954-20-20"
    />
    <path
      class="first-shade"
      d="M740 40c0 11.046 8.954 20 20 20s20-8.954 20-20-8.954-20-20-20-20 8.954-20 20"
    />
    <path
      class="third-color"
      d="M680 40c0 11.046 8.954 20 20 20s20-8.954 20-20-8.954-20-20-20-20 8.954-20 20"
    />
    <path
      class="first-shade"
      d="M660 40c0 11.046-8.955 20-20 20V20c11.045 0 20 8.954 20 20"
    />
    <path class="fourth-color" d="M160 160H0v160h160z" />
    <path class="first-shade" d="M80 240H0v80h80zM160 160H80v80h80z" />
    <path class="third-color" d="M0 240l80-80v80zM160 240l-80 80v-80z" />
    <path
      class="first-shade"
      d="M720 240c-22.091 0-40-17.908-40-40s17.909-40 40-40 40 17.908 40 40-17.909 40-40 40m0-2.5c20.678 0 37.5-16.822 37.5-37.5s-16.822-37.5-37.5-37.5-37.5 16.822-37.5 37.5 16.822 37.5 37.5 37.5"
    />
    <path
      class="second-color"
      d="M720 320c-22.091 0-40-17.908-40-40s17.909-40 40-40 40 17.908 40 40-17.909 40-40 40m0-2.5c20.678 0 37.5-16.822 37.5-37.5s-16.822-37.5-37.5-37.5-37.5 16.822-37.5 37.5 16.822 37.5 37.5 37.5M800 242.5c-20.678 0-37.5 16.822-37.5 37.5s16.822 37.5 37.5 37.5v2.5c-22.091 0-40-17.908-40-40s17.909-40 40-40z"
    />
    <path
      class="first-shade"
      d="M800 162.5c-20.678 0-37.5 16.822-37.5 37.5s16.822 37.5 37.5 37.5v2.5c-22.091 0-40-17.908-40-40s17.909-40 40-40zM640 237.5c20.678 0 37.5-16.822 37.5-37.5s-16.822-37.5-37.5-37.5V160c22.091 0 40 17.908 40 40s-17.909 40-40 40z"
    />
    <path
      class="second-color"
      d="M640 317.5c20.678 0 37.5-16.822 37.5-37.5s-16.822-37.5-37.5-37.5V240c22.091 0 40 17.908 40 40s-17.909 40-40 40z"
    />
  </g>
</svg>
```
